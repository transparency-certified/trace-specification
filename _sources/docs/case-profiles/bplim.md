(caseprofile-bplim)=
# Banco de Portugal

The [Banco de Portugal Microdata Research
Laboratory](https://bplim.bportugal.pt/content/access-0) (BPLIM) provides access
to datasets about the Portuguese economy. The following summary is based on the
BPLIM [Guide for
Researchers](https://msites-dee-bplim-prd.azurewebsites.net/sites/default/files/guide_for_researchers_v202210.pdf) and [GuimarÃ£es (2023)](https://doi.org/10.1162/99608f92.54a00239).

## Data access

Data can only be accessed using BPLIM's dedicated servers. Once approved, 
external researchers are granted surrogate access to the server, where
BPLIM staff execute scripts written by an external researcher and outputs are 
shared after review. Internal researchers have broader access to BPLIM datasets
while external researchers must apply for access to BPLIM data including a
detailed project description.

Datasets made available to external researchers on the BPLIM servers are classified as low, medium,
or high confidentiality.  Datasets classified with medium confidentiality have
modified values (perturbed data) and those with high confidentiality contain
modified values and are restriced to a subsample of observations. BPLIM may
provide modified versions of the original datasets to external researchers to
develop their analysis, but these are not valid for research purposes.
Researchers must then request that BPLIM run their analysis on the original
data.

Datasets are assigned DOIs.

## Statistical software

BPLIM servers provide a Linux environment with Stata, R,  Julia, and Python. BPLIM staff
can assist researchers with installing additional packages for their project.
BPLIM has also developed custom Stata packages. 

## Outputs

External researchers are never allowed to transfer data to or from BPLIM's
servers. For external researchers, BPLIM staff will verify that all outputs
conform to policies (termed "output verification").

## Processing

External researchers develop their code on the BPLIM servers, using the provided data. BPLIM staff validate (reproduce) the analysis by running the code on the same data, but on internal servers. They then modify the scripts to use the confidential data, produce output based on the confidential data, and after output verification, provide the output to the researcher.

More recently, they have been pushing researches to work with  Singularity containers ([https://github.com/BPLIM/Containers](https://github.com/BPLIM/Containers)). They have developed an [app](https://github.com/BPLIM/ReplicationApp) that can already run the researchers' code within the container, and let the researcher verify that the code runs cleanly.

**The app could be augmented to generate a TRO. The app itself would be described as part of the TRS.**

> The initial TRO in the current usage is not useful to the researcher, since it only tells the BPLIM staff that the code runs cleanly. The confidential TRO generated by the app (TRS) on the confidential data needs vetting, similar to the [FSRDC case](caseprofile-rdc). 

## Archiving

When a project is "closed", BPLIM will archive a copy of all analysis files and
all files found in specific project folders. All other files will be deleted
unless the researcher explicitly request and justify why they must be archived.

## Citation

BPLIM requests that all datasets be cited.


